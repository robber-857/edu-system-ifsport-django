{% extends "portal/base.html" %}
{% load widget_tweaks %}
{% block title %}Set a new password{% endblock %}
{% block content %}
<div class="container d-flex align-items-center justify-content-center" style="min-height:75vh;">
  <div class="w-100" style="max-width:460px">
    <h2 class="mb-4 text-center fw-bold">Set a new password</h2>
    {% if validlink %}
      <form method="post" class="vstack gap-3">
        {% csrf_token %}
        <div>
          <label class="form-label">New password</label>
          {{ form.new_password1|add_class:"form-control form-control-lg" }}
          {{ form.new_password1.errors }}
        </div>
        <div>
          <label class="form-label">Confirm new password</label>
          {{ form.new_password2|add_class:"form-control form-control-lg" }}
          {{ form.new_password2.errors }}
        </div>
        <button class="btn btn-success btn-lg w-100 mt-2">Change password</button>
      </form>
    {% else %}
      <div class="alert alert-danger">The reset link is invalid or has expired.</div>
      <a class="btn btn-primary" href="{% url 'password_reset' %}">Request a new link</a>
    {% endif %}
  </div>
</div>
{% endblock %}
